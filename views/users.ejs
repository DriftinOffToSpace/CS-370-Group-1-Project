<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Users</title>
</head>
<body>
    <h1>Users</h1>
    <table>
        <tr>
            <th>User ID</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Middle Initial</th>
            <th>Biography</th>
            <th>Location</th>
            <th>Birthday</th>
        </tr>
        <% users.map(user => { %>
            <tr>
                <td><%= user.userID %></td>
                <td><%= user.fName %></td>
                <td><%= user.lName %></td>
                <td><%= user.mInitial %></td>
                <td><%= user.biography %></td>
                <td><%= user.location %></td>
                <td><%= user.birthday %></td>
            </tr>
            <% if (posts.find(post => post.userID === user.userID)) { %>
                <tr>
                    <td></td>
                    <td colspan="9">
                        <table>
                            <tr>
                                <th>Post ID</th>
                                <th>Like Count</th>
                                <th>Location</th>
                                <th>Content</th>
                                <th>Photo URL</th>
                                <th>Date</th>
                                <th>Event ID</th>
                                <th>Group ID</th>
                                <th>Trend ID</th>
                            </tr>
                            <% posts.filter(post => post.userID === user.userID).map(post => { %>
                                <tr>
                                    <td><%= post.postID %></td>
                                    <td><%= post.likeCount %></td>
                                    <td><%= post.location %></td>
                                    <td><%= post.content %></td>
                                    <td><%= post.photoURL %></td>
                                    <td><%= post.date %></td>
                                    <td><%= post.eventID %></td>
                                    <td><%= post.groupID %></td>
                                    <td><%= post.trendID %></td>
                                </tr>
                            <% }) %>
                        </table>
                    </td>
                </tr>
            <% } %>
        <% }) %>
    </table>
</body>
<style>
    th, td {
        border: black 1px solid;
    }
</style>
</html>